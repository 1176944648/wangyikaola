"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stairs=exports.Slideshow=void 0;var _createClass=function(){function e(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_tool=require("./tool.js");function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var Slideshow=function(){function t(){_classCallCheck(this,t),this.picList=(0,_tool.$)(".img-list li"),this.btnList=(0,_tool.$)(".img-pager-items a"),this.btnprev=(0,_tool.$)(".prev"),this.btnnext=(0,_tool.$)(".next"),this.wrap=(0,_tool.$)(".img-panel"),this.num=0,this.timer=null}return _createClass(t,[{key:"init",value:function(){var i=this,t=this,n=!0,e=!1,s=void 0;try{for(var o,l=function(){var t=o.value;t.onclick=function(){i.tabswith(t)}},a=this.btnList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)l()}catch(t){e=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw s}}this.btnnext.onclick=function(){i.eventright()},this.btnprev.onclick=function(){i.eventleft()},this.timing(),this.wrap.hover(function(){clearInterval(t.timer)},function(){t.timing()})}},{key:"cleanr",value:function(){var t=!0,i=!1,n=void 0;try{for(var e,s=this.btnList[Symbol.iterator]();!(t=(e=s.next()).done);t=!0){var o=e.value;o.removeClass("active"),this.picList[o.index()].css({opacity:0,zIndex:1})}}catch(t){i=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}}},{key:"tabswith",value:function(t){this.cleanr(),t.addClass("active"),this.picList[t.index()].css({opacity:1,zIndex:2})}},{key:"eventright",value:function(){this.num++,this.num>this.picList.length-1&&(this.num=0),this.cleanr(),this.btnList[this.num].addClass("active"),this.picList[this.num].css({opacity:1,zIndex:2})}},{key:"eventleft",value:function(){this.num--,this.cleanr(),this.num<0&&(this.num=this.picList.length-1),this.btnList[this.num].addClass("active"),this.picList[this.num].css({opacity:1,zIndex:2})}},{key:"timing",value:function(){var t=this;this.timer=setInterval(function(){t.eventright()},5e3)}}]),t}(),Stairs=function(){function t(){_classCallCheck(this,t),this.navlist=(0,_tool.$)(".m-navlist"),this.main=(0,_tool.$)("main"),this.allgoodslist=(0,_tool.$)(".goods"),this.btn=(0,_tool.$)(".m-navlist .nav-item"),this.top=this.main.offsetTop,this.height=this.allgoodslist[0].offsetHeight,this.back=(0,_tool.$)(".bottomPart")}return _createClass(t,[{key:"init",value:function(){var t=this,i=this;(0,_tool.addEvent)(window,"scroll",function(){i.show()},!1);var n=!0,e=!1,s=void 0;try{for(var o,l=this.btn[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){o.value.onclick=function(t){t=t||event,i.skip(this),this.addClass("active"),t.preventDefault?t.preventDefault():t.returnValue=!1}}}catch(t){e=!0,s=t}finally{try{!n&&l.return&&l.return()}finally{if(e)throw s}}this.back.onclick=function(){document.documentElement.scrollTop=0},window.onload=function(){t.show()}}},{key:"show",value:function(){document.documentElement.scrollTop>=this.top-15?this.navlist.css({display:"block"}):this.navlist.css({display:"none"}),this.louti()}},{key:"cleanr",value:function(){var t=!0,i=!1,n=void 0;try{for(var e,s=this.btn[Symbol.iterator]();!(t=(e=s.next()).done);t=!0){e.value.removeClass("active")}}catch(t){i=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}}},{key:"skip",value:function(t){this.cleanr(),document.documentElement.scrollTop=this.allgoodslist[t.index()].offsetTop}},{key:"louti",value:function(){var t=document.documentElement.scrollTop,i=!0,n=!1,e=void 0;try{for(var s,o=this.allgoodslist[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;if(t<l.offsetTop+l.offsetHeight/2)return this.cleanr(),this.btn[l.index()].addClass("active"),!1}}catch(t){n=!0,e=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw e}}}}]),t}();exports.Slideshow=Slideshow,exports.Stairs=Stairs;